local library = {}
local types = {"error", "success", "info"}

function library:CreateNotification(title, body, typeOf)
	local player = game:GetService("Players").LocalPlayer
	local playerGui = player:WaitForChild("PlayerGui")

	if playerGui:FindFirstChild("NekoLolis") then
		playerGui:FindFirstChild("NekoLolis"):Destroy()
	end

	local TweenService = game:GetService("TweenService")

	local NekoLolis = Instance.new("ScreenGui")
	NekoLolis.Name = "NekoLolis"
	NekoLolis.Parent = playerGui
	NekoLolis.ZIndexBehavior = Enum.ZIndexBehavior.Sibling
	NekoLolis.IgnoreGuiInset = true

	local Notification = Instance.new("Frame")
	Notification.Name = "Notification"
	Notification.Parent = NekoLolis
	Notification.AnchorPoint = Vector2.new(0.5, 0.5)
	Notification.Position = UDim2.new(0.5, 0, 0.5, 0)
	Notification.Size = UDim2.new(0.35, 0, 0.2, 0)
	Notification.BackgroundColor3 = Color3.fromRGB(25, 25, 25)
	Notification.BackgroundTransparency = 1
	Notification.BorderSizePixel = 0

	local UICorner = Instance.new("UICorner")
	UICorner.CornerRadius = UDim.new(0.08, 0)
	UICorner.Parent = Notification

	local UIStroke = Instance.new("UIStroke")
	UIStroke.Thickness = 2
	UIStroke.Color = Color3.fromRGB(60, 60, 60)
	UIStroke.ApplyStrokeMode = Enum.ApplyStrokeMode.Border
	UIStroke.Parent = Notification

	local TitleText = Instance.new("TextLabel")
	TitleText.Name = "TitleText"
	TitleText.Parent = Notification
	TitleText.BackgroundTransparency = 1
	TitleText.Position = UDim2.new(0.18, 0, 0.1, 0)
	TitleText.Size = UDim2.new(0.8, 0, 0.25, 0)
	TitleText.Font = Enum.Font.GothamBold
	TitleText.TextColor3 = Color3.fromRGB(255, 255, 255)
	TitleText.TextScaled = true
	TitleText.Text = title
	TitleText.TextXAlignment = Enum.TextXAlignment.Left

	local BodyText = Instance.new("TextLabel")
	BodyText.Name = "BodyText"
	BodyText.Parent = Notification
	BodyText.BackgroundTransparency = 1
	BodyText.Position = UDim2.new(0.05, 0, 0.38, 0)
	BodyText.Size = UDim2.new(0.9, 0, 0.6, 0)
	BodyText.Font = Enum.Font.GothamSemibold
	BodyText.TextColor3 = Color3.fromRGB(200, 200, 200)
	BodyText.TextWrapped = true
	BodyText.TextScaled = true
	BodyText.TextYAlignment = Enum.TextYAlignment.Top
	BodyText.Text = body

	local Icon = Instance.new("ImageLabel")
	Icon.Name = "Icon"
	Icon.Parent = Notification
	Icon.BackgroundTransparency = 1
	Icon.Position = UDim2.new(0.05, 0, 0.12, 0)
	Icon.Size = UDim2.new(0.12, 0, 0.22, 0)
	Icon.ScaleType = Enum.ScaleType.Fit
	Icon.ImageTransparency = 1

	local iconColors = {
		error = Color3.fromRGB(255, 70, 70),
		success = Color3.fromRGB(85, 255, 127),
		info = Color3.fromRGB(85, 170, 255)
	}

	local iconAssets = {
		error = "rbxassetid://2777727756",
		success = "rbxassetid://2790552399",
		info = "rbxassetid://2790676563"
	}

	if not table.find(types, typeOf) then
		warn("Invalid notification type. Use: info, error, success")
		typeOf = "info"
	end

	Icon.Image = iconAssets[typeOf]
	Icon.ImageColor3 = iconColors[typeOf]
	UIStroke.Color = iconColors[typeOf]

	task.spawn(function()
		-- Fade in
		local fadeIn = TweenService:Create(Notification, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.Out), {
			BackgroundTransparency = 0,
			Position = UDim2.new(0.5, 0, 0.48, 0)
		})
		local iconFadeIn = TweenService:Create(Icon, TweenInfo.new(0.6), { ImageTransparency = 0 })

		fadeIn:Play()
		iconFadeIn:Play()
		fadeIn.Completed:Wait()

		task.wait(4)

		-- Fade out
		local fadeOut = TweenService:Create(Notification, TweenInfo.new(0.6, Enum.EasingStyle.Quad, Enum.EasingDirection.In), {
			BackgroundTransparency = 1,
			Position = UDim2.new(0.5, 0, 0.53, 0)
		})
		local iconFadeOut = TweenService:Create(Icon, TweenInfo.new(0.6), { ImageTransparency = 1 })

		fadeOut:Play()
		iconFadeOut:Play()
		fadeOut.Completed:Wait()

		NekoLolis:Destroy()
	end)

	return library
end

return library
